<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="EmoAware is an emotional AI website that provides emotional support, mental wellness tools, games, and insights for personal growth.">
<meta name="keywords" content="emotions, emotional AI, EmoAware, stress relief, emotional support, mental health, mood analysis, calming games">
<meta name="author" content="Shinepreet Kaur">

<title>Breathing Rhythm | EmoAware</title>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Playfair+Display:wght@600&display=swap');

  :root{
    --brand:#e60023;
    --brand-soft:#ff6b81;
    --glass: rgba(255,255,255,0.85);
  }

  body{
    margin:0;
    font-family:'Inter',sans-serif;
    background: linear-gradient(135deg,#fff0f3,#ffe4e8);
    height:100vh;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:flex-start;
    overflow:hidden;
    padding-top:55px; /* ‚úÖ more top space to avoid overlap */
  }

  h1{
    font-family:'Playfair Display',serif;
    color:var(--brand);
    font-size:32px;
    margin:0;
    text-align:center;
  }

  .subline{
    margin:8px 0 34px;
    font-size:16px;
    color:#666;
    opacity:.9;
    text-align:center;
    padding:0 16px;
  }

  /* Restart button only */
  .controls{
    margin-bottom:20px;
  }

  .controls button{
    padding:10px 22px;
    border:none;
    border-radius:14px;
    font-weight:600;
    cursor:pointer;
    background:linear-gradient(135deg,var(--brand),var(--brand-soft));
    color:#fff;
    box-shadow:0 6px 16px rgba(230,0,35,.18);
    font-size:15px;
  }
  .controls button:hover{
    filter:brightness(.95);
  }

  .stage{
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:14px;
  }

  /* ‚úÖ smaller circle */
  .breath-circle{
    width:150px;
    height:150px;
    background:var(--glass);
    border:2px solid rgba(230,0,35,.2);
    border-radius:50%;
    box-shadow:0 15px 30px rgba(230,0,35,.15);
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:22px;
    font-weight:600;
    color:var(--brand);
    backdrop-filter: blur(12px);
    transition: transform var(--dur, 2s) ease-in-out;
    text-shadow:0 2px 4px rgba(0,0,0,.08);
    margin-bottom:10px;
    margin-top:10px;
  }

  .meta{
    display:flex;
    gap:10px;
    align-items:center;
    justify-content:center;
    background:var(--glass);
    border:1px solid rgba(255,255,255,.5);
    padding:8px 14px;
    border-radius:12px;
    color:#444;
    font-weight:600;
    box-shadow:0 8px 20px rgba(230,0,35,.08);
  }

  .pill{
    padding:4px 10px;
    border-radius:999px;
    font-size:13px;
    font-weight:700;
    color:#fff;
    background:var(--brand);
  }

  .count{
    font-variant-numeric: tabular-nums;
    min-width:2ch;
    text-align:right;
  }

  .back-btn{
    margin-top:28px;
    padding:12px 24px;
    background:linear-gradient(135deg,var(--brand),var(--brand-soft));
    color:#fff;
    border:none;
    border-radius:14px;
    cursor:pointer;
    font-weight:600;
    font-size:16px;
    box-shadow:0 8px 20px rgba(230,0,35,.2);
    transition:.25s;
  }
  .back-btn:hover{
    transform:translateY(-3px);
    background:#b0001b;
  }

  @media(max-width:600px){
    .breath-circle{
      width:130px;
      height:130px;
      font-size:20px;
    }
    h1{ font-size:26px; }
    .subline{ font-size:14px; margin-bottom:36px; }
  }
</style>

</head>
<body>

<h1>Breathing Rhythm üå¨Ô∏è</h1>
<p class="subline">Inhale for 6s ‚Ä¢ Hold for 4s ‚Ä¢ Exhale for 6s ‚Ä¢ Repeat</p>

<div class="controls">
  <button id="restartBtn" type="button">Restart</button>
</div>

<div class="stage">
  <div class="breath-circle" id="circle">Inhale</div>
  <div class="meta">
    <span class="pill" id="phasePill">INHALE</span>
    <span>‚Ä¢</span>
    <span id="hint">Breathe in gently</span>
    <span>‚Ä¢</span>
    <span class="count"><span id="sec">6</span>s</span>
  </div>
</div>

<button class="back-btn" onclick="window.location.href='../games.html'">‚¨Ö Back to Games</button>

<script>
  const circle = document.getElementById('circle');
  const phasePill = document.getElementById('phasePill');
  const hint = document.getElementById('hint');
  const secEl = document.getElementById('sec');
  const restartBtn = document.getElementById('restartBtn');

  let timeouts = [];
  let ticker = null;

  // EXACT TIMING YOU WANTED
  const phases = [
    { name: 'Inhale', dur: 6000, scale: 1.25, hint: 'Breathe in gently' },
    { name: 'Hold',   dur: 4000, scale: 1.25, hint: 'Stay still' },
    { name: 'Exhale', dur: 6000, scale: 1.00, hint: 'Let go slowly' }
  ];

  function clearTimers(){
    timeouts.forEach(t => clearTimeout(t));
    timeouts = [];
    if(ticker) clearInterval(ticker);
  }

  function setPhaseUI(phase){
    circle.textContent = phase.name;
    phasePill.textContent = phase.name.toUpperCase();
    hint.textContent = phase.hint;

    let remaining = Math.ceil(phase.dur/1000);
    secEl.textContent = remaining;

    circle.style.setProperty('--dur', (phase.dur/1000)+'s');
    circle.style.transform = `scale(${phase.scale})`;

    if(ticker) clearInterval(ticker);
    ticker = setInterval(()=>{
      remaining--;
      if(remaining>=0) secEl.textContent = remaining;
    },1000);
  }

  function runCycle(){
    clearTimers();
    let t = 0;

    phases.forEach((phase,idx)=>{
      timeouts.push(setTimeout(()=>{ setPhaseUI(phase); }, t));

      if(idx === phases.length - 1){
        timeouts.push(setTimeout(runCycle, t + phase.dur));
      }
      t += phase.dur;
    });
  }

  restartBtn.addEventListener('click', runCycle);

  runCycle();
</script>

</body>
</html>
